---
import "@assets/styles/global.css";
import PageLayout from "@layouts/PageLayout.astro";

const posts = (await Astro.glob("../content/post/*.md")).sort(
	(a, b) =>
		new Date(b.frontmatter.updated || b.frontmatter.added).valueOf() -
		new Date(a.frontmatter.updated || a.frontmatter.added).valueOf(),
);
---

<PageLayout>
	<ul class="posts-list">
		{
			posts.map(({ file, frontmatter: { title } }) => {
                const urlWorkaround = file.split("/").pop()?.split(".")[0];
                return (
				<p>
					<a href=`/post/${urlWorkaround}`>{title}</a>
				</p>
            )
			})
		}
	</ul>   
</PageLayout> 
